name: CD Pipeline ğŸš€

on:
  workflow_dispatch:  # ğŸ”¥ Se ejecuta manualmente

jobs:
  deploy:
    runs-on: self-hosted

    steps:
      - name: ğŸš€ Deploy nueva versiÃ³n
        run: |
          echo "ğŸ›‘ Deteniendo contenedor viejo si existe..."
          docker stop proyectodevopsl1 || echo "No hay contenedor corriendo"
          docker rm proyectodevopsl1 || echo "No hay contenedor viejo"
          
          echo "â¬‡ï¸ Descargando Ãºltima imagen..."
          docker pull eliudfuentes/proyectodevopsl1:latest
          
          echo "ğŸš€ Corriendo nueva versiÃ³n..."
          docker run -d --name proyectodevopsl1 -p 3000:3000 eliudfuentes/proyectodevopsl1:latest
